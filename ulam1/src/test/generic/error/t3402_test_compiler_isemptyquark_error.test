## -*- mode:ulam -*-
#=t3402_test_compiler_isemptyquark_error
#!
##
##      //./Foo.ulam:7:7: ERROR: Invalid righthand type of conditional operator 'is'; must be an element name, not type: Empty.
##
Exit status: 0
Ue_Foo { Unary(6) energy(0);  Int(32) test() {  Atom(96) a;  a Empty is cond { energy cast 63u cast == cond { 1 return } if energy cast 0u cast == cond { 0 return } if else } if -1 return } }
Uq_Empty { /* empty class block */
#>Foo.ulam
ulam 1;
 use Empty;
 element Foo {
Unary(6) energy;
 Int test(){
Atom a;
 if(a is Empty) {
 if(energy == energy.maxof) {
 return 1;
 }
 else if (energy == energy.minof) {
 return 0;
 }
 }
 return -1;
 }
 }

#:Empty.ulam
ulam 1;
 quark Empty {
 }
##
##      // gen code issue: quark doesn't have internalCMethodImplementingIs!!
##      //include/Ue_10163Foo0.tcc:28:57: error: ‘POS’ was not declared in this scope
##      //        const u32 Uh_tmpreg_loadable_12 = Uq_10105Empty0<EC,POS>::internalCMethodImplementingIs(Uh_tmpval_unpacked_11);
##
#.
