## -*- mode:ulam -*-
#=t3197_test_compiler_elementandquark_usercastquarknotoint_error
#!
##./Foo.ulam:12:9: ERROR: (2) <toInt> is not a defined function, and cannot be called.
##
Exit status: 4
Ue_Foo { Unary(4) m_i(4);  Bar m_bar( Bool(1) val_b[3](false,true,false); );  Int(32) test() {  m_bar ( 1 )check = m_i m_bar ( )toInt . cast cast = m_i cast return } }
Uq_Bar { Bool(1) val_b[3](true,true,true);  <NOMAIN> }
#>Foo.ulam
ulam 1;
 use Bar;
 element Foo {
 Unary(4) m_i;
 Bar m_bar;
 Bar check(Int v) {
 Bar b;
 b.val_b[1] = true;
 return b;
 } Int test() {
 m_bar = check(1);
 m_i = (Unary(4)) m_bar;
 return m_i;
 }
 }

#:Bar.ulam
ulam 1;
 quark Bar {
 Bool val_b[3];
  Void reset(Bool b) {
 b = false;
 }
 /*Int toInt(){
 return 7;
}*/
 }
#.
