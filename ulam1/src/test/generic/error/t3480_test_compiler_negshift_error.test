## -*- mode:ulam -*-
#=t3480_test_compiler_negshift_error
#!
##
##./A.ulam:7:1: ERROR: Use a comparison operator to convert Int(32) to Bool(1) for 'while'.
##./A.ulam:8:19: ERROR: Unsigned is the supported type for shift distance, operator<<; Suggest casting Int(2) to Unsigned.
##./A.ulam:9:15: ERROR: Unsigned is the supported type for shift distance, operator>>; Suggest casting Int(2) to Unsigned.
##
Exit status: -1
##
##      //informed by t3246
##
#>A.ulam
element A {
Bool(7) b;
Unsigned d;
Int test(){Int a;
 a = 8;
d = 1;
while(a){
d = (Unsigned) (d << -1);
 a = (Int) (a >> -1);
}
return (Int) d;
 }
 }
##
##      // oops! >> is infinite WHILE loop
##      //bool rtn1 = fms->add("A.ulam","element A {\nBool(7) b;\nUnsigned d;\nInt test(){Int a;\n a = 8;\nd = 1;\nwhile(a){\nd = (Unsigned) ((Bits) d << (Unsigned) -1);\n a = (Int) ((Bits) a >> (Unsigned) -1);\n}\nreturn (Int) d;\n }\n }\n");
##      //ok.
##      //bool rtn1 = fms->add("A.ulam","element A {\nBool(7) b;\nUnsigned d;\nInt test(){Int a;\n a = 8;\nd = 1;\n d = (Unsigned) ((Bits) d << (Unsigned) -1);\n a = (Int) ((Bits) a >> (Unsigned) -1);\nreturn (Int) d;\n }\n }\n");
##
#.
